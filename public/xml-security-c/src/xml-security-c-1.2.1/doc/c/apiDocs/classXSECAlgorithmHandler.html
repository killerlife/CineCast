<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>XML-Security-C: XSECAlgorithmHandler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>XSECAlgorithmHandler Class Reference<br>
<small>
[<a class="el" href="group__xenc.html">XML Encryption Implementation</a>]</small>
</h1><code>#include &lt;<a class="el" href="XSECAlgorithmHandler_8hpp-source.html">XSECAlgorithmHandler.hpp</a>&gt;</code>
<p>
<a href="classXSECAlgorithmHandler-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Interface class to provide handlers for processing different encryption types. 
<p>
The <a class="el" href="classXENCCipher.html">XENCCipher</a> class allows users and callers to register algorithm handlers for different Type URIs, as defined in the EncryptionMethod element within XML Encryption.<p>
A default handler (XENCAlgorithmHandlerDefault) is provided by the library, and is used to process all algorithms defined as mandatory (and many optional) within the standard.<p>
Users can extend this class to provide custom algorithm handlers for their own classes.<p>
<dl compact><dt><b>Note:</b></dt><dd>The library will use a single clone of any provided object for a given algorithm. So all implementation classes <b>must</b> be thread safe! </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors and Destructors</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z185_0">~XSECAlgorithmHandler</a> ()</td></tr>

<tr><td colspan="2"><div class="groupHeader">Encryption Methods</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z186_0">encryptToSafeBuffer</a> (<a class="el" href="classTXFMChain.html">TXFMChain</a> *plainText, <a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *<a class="el" href="DSIGConstants_8hpp.html#a107">encryptionMethod</a>, <a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *key, XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *doc, <a class="el" href="classsafeBuffer.html">safeBuffer</a> &amp;result)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Encrypt an input Transform chain to a <a class="el" href="classsafeBuffer.html">safeBuffer</a>.  <a href="#z186_0"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Decryption Methods</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z187_0">decryptToSafeBuffer</a> (<a class="el" href="classTXFMChain.html">TXFMChain</a> *cipherText, <a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *<a class="el" href="DSIGConstants_8hpp.html#a107">encryptionMethod</a>, <a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *key, XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *doc, <a class="el" href="classsafeBuffer.html">safeBuffer</a> &amp;result)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrypt an input Transform chain to a <a class="el" href="classsafeBuffer.html">safeBuffer</a>.  <a href="#z187_0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z187_1">appendDecryptCipherTXFM</a> (<a class="el" href="classTXFMChain.html">TXFMChain</a> *cipherText, <a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *<a class="el" href="DSIGConstants_8hpp.html#a107">encryptionMethod</a>, <a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *key, XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *doc)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append an appropriate decrypt TXFMer to a cipher txfm chain.  <a href="#z187_1"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Key handling</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z188_0">createKeyForURI</a> (const XMLCh *uri, unsigned char *keyBuffer, unsigned int keyLen)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a key that will support a given URI.  <a href="#z188_0"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Miscellaneous Functions</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classXSECAlgorithmHandler.html">XSECAlgorithmHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXSECAlgorithmHandler.html#z189_0">clone</a> (void) const =0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new instance of the handler.  <a href="#z189_0"></a><br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="z185_0" doxytag="XSECAlgorithmHandler::~XSECAlgorithmHandler"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual XSECAlgorithmHandler::~XSECAlgorithmHandler           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="z187_1" doxytag="XSECAlgorithmHandler::appendDecryptCipherTXFM"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool XSECAlgorithmHandler::appendDecryptCipherTXFM           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTXFMChain.html">TXFMChain</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>cipherText</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>encryptionMethod</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *&nbsp;</td>
          <td class="mdname" nowrap> <em>doc</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Append an appropriate decrypt TXFMer to a cipher txfm chain. 
<p>
This method takes a <a class="el" href="classTXFMChain.html">TXFMChain</a> that will provide the cipher text data, and appends the appropriate cipher transformer to decrypt the output.<p>
The EncryptionMethod object is provided so that any algorithm specific parameters can be found by the processor. It also allows applications to embed multiple algorithms in a single processing object. The Type value can then be read from the EncryptionMethod object to determine what to do.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cipherText</em>&nbsp;</td><td>Chain that will provide the cipherText. Ownership remains with the caller - do not delete. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>encryptionMethod</em>&nbsp;</td><td>Information about the algorithm to use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>The key that has been determined via a resolver or that has been provided by the calling application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doc</em>&nbsp;</td><td>Document from which to create XML Nodes </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The resulting BinInputStream </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="z189_0" doxytag="XSECAlgorithmHandler::clone"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classXSECAlgorithmHandler.html">XSECAlgorithmHandler</a>* XSECAlgorithmHandler::clone           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new instance of the handler. 
<p>
Provides a means for the library to create a new instance of the object without knowing its type     </td>
  </tr>
</table>
<a class="anchor" name="z188_0" doxytag="XSECAlgorithmHandler::createKeyForURI"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual <a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a>* XSECAlgorithmHandler::createKeyForURI           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const XMLCh *&nbsp;</td>
          <td class="mdname" nowrap> <em>uri</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap> <em>keyBuffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>unsigned int&nbsp;</td>
          <td class="mdname" nowrap> <em>keyLen</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a key that will support a given URI. 
<p>
Given a URI string and a raw bit string, create the associated key<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>uri</em>&nbsp;</td><td>URI string to match key to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>keyBuffer</em>&nbsp;</td><td>Raw bits to set in the key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>keyLen</em>&nbsp;</td><td>Number of bytes in the key </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="z187_0" doxytag="XSECAlgorithmHandler::decryptToSafeBuffer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual unsigned int XSECAlgorithmHandler::decryptToSafeBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTXFMChain.html">TXFMChain</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>cipherText</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>encryptionMethod</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *&nbsp;</td>
          <td class="mdname" nowrap> <em>doc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classsafeBuffer.html">safeBuffer</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>result</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decrypt an input Transform chain to a <a class="el" href="classsafeBuffer.html">safeBuffer</a>. 
<p>
This method takes a <a class="el" href="classTXFMChain.html">TXFMChain</a> that will provide the cipher text data, and places the output in a <a class="el" href="classsafeBuffer.html">safeBuffer</a>.<p>
The EncryptionMethod object is provided so that any algorithm specific parameters can be found by the processor. It also allows applications to embed multiple algorithms in a single processing object. The Type value can then be read from the EncryptionMethod object to determine what to do.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cipherText</em>&nbsp;</td><td>Chain that will provide the cipherText. Ownership remains with the caller - do not delete. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>encryptionMethod</em>&nbsp;</td><td>Information about the algorithm to use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>The key that has been determined via a resolver or that has been provided by the calling application. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doc</em>&nbsp;</td><td>Document in which to operate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>SafeBuffer object to place result into </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The number of plain bytes placed in the <a class="el" href="classsafeBuffer.html">safeBuffer</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="z186_0" doxytag="XSECAlgorithmHandler::encryptToSafeBuffer"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool XSECAlgorithmHandler::encryptToSafeBuffer           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classTXFMChain.html">TXFMChain</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>plainText</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXENCEncryptionMethod.html">XENCEncryptionMethod</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>encryptionMethod</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classXSECCryptoKey.html">XSECCryptoKey</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>XERCES_CPP_NAMESPACE_QUALIFIER DOMDocument *&nbsp;</td>
          <td class="mdname" nowrap> <em>doc</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="classsafeBuffer.html">safeBuffer</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>result</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [pure virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Encrypt an input Transform chain to a <a class="el" href="classsafeBuffer.html">safeBuffer</a>. 
<p>
This method takes a <a class="el" href="classTXFMChain.html">TXFMChain</a> that will provide the plain text data, and places the encrypted and base64 encoded output in a <a class="el" href="classsafeBuffer.html">safeBuffer</a>.<p>
The EncryptionMethod object is provided so that any algorithm specific parameters can be embedded by the processor. Default parameters can be set directly (OAEParams and KeySize). Anything additional will need to be set within the DOM directly.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plainText</em>&nbsp;</td><td>Chain that will provide the plain bytes. Ownership remains with the caller - do not delete. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>encryptionMethod</em>&nbsp;</td><td>Information about the algorithm to use. Can also be used to set the required encryption parameters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>The key that has been provided by the calling application to perform the encryption.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>doc</em>&nbsp;</td><td>Document in which to operate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>SafeBuffer object to place result into </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>This is not quite the symmetric opposite of decryptToSafeBuffer because of the way the library uses transformers. It is expected that this method will create a <a class="el" href="classsafeBuffer.html">safeBuffer</a> with <b>base64</b> encoded data. (It's easier to throw a <a class="el" href="classTXFMBase64.html">TXFMBase64</a> txfmer on the end of the chain than to do the encryption and then separately base64 encode.) </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="XSECAlgorithmHandler_8hpp-source.html">XSECAlgorithmHandler.hpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Jul 3 17:57:12 2005 for XML-Security-C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
